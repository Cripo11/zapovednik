<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZAPOVEDNIK // ALCHEMY</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Syncopate:wght@700&display=swap"
        rel="stylesheet">

    <!-- Core styles consistent with project -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="selection.css">
    <link rel="stylesheet" href="mutation.css"> <!-- Reusing mutation layout fixes if any -->
    <link rel="stylesheet" href="alchemy.css"> <!-- New styles override -->
</head>

<body>
    <!-- Background Effects -->
    <div class="bg-noise"></div>
    <div class="bg-fog"></div>

    <div class="quest-wrapper">
        <header class="quest-header">
            <h1>ХИМИЧЕСКИЙ РЕАКТОР: СИНТЕЗ ЭЛИКСИРА</h1>
            <div class="status-indicator">СТАДИЯ: 03-C</div>
        </header>

        <main class="quest-layout three-col">
            <!-- Left: Ingredients (Grid 4x4) -->
            <section class="plant-section">
                <div class="section-title">СКЛАД РЕАГЕНТОВ</div>
                <div class="alchemy-grid compact" id="ingredients-grid">
                    <!-- Injected via JS -->
                </div>
            </section>

            <!-- Center: Workbench (Cauldron + Sequence) -->
            <section class="workbench-section">

                <!-- Visual Reactor -->
                <div class="cauldron-visual phase-CLEAR" id="cauldron-visual">
                    <div class="cauldron-liquid"></div>
                    <div class="phase-label" id="phase-label">CLEAR</div>
                </div>

                <!-- Sequence Strip -->
                <div class="workbench">
                    <div class="section-title">ЛЕНТА РЕАКЦИИ (ШАГИ 1-5)</div>
                    <div class="slots-container sequence-strip" id="sequence-strip">
                        <!-- 5 Slots injected via JS -->
                    </div>
                </div>

                <!-- Controls -->
                <div class="workbench-controls">
                    <button id="btn-run" class="control-btn primary" disabled>ЗАПУСТИТЬ РЕАКЦИЮ</button>
                    <button id="btn-clear" class="control-btn">СБРОСИТЬ</button>
                </div>

                <!-- Reaction Log -->
                <div class="reaction-log" id="reaction-log">
                    <h3>ЖУРНАЛ ОПЕРАЦИЙ</h3>
                    <div id="log-content">
                        <!-- Log entries -->
                    </div>
                </div>
            </section>

            <!-- Right: Protocol (Quest Info) -->
            <section class="note-section">
                <div class="note">
                    <div class="note-content">
                        <p id="protocol-title"><strong>ПРОТОКОЛ АЛХИМИИ #??</strong></p>
                        <hr>
                        <div id="protocol-body">
                            <!-- Injected requirements -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Success Overlay -->
    <div id="success-overlay" class="success-overlay hidden">
        <div class="success-content">
            <h2>СИНТЕЗ ЗАВЕРШЕН</h2>
            <p>СТАБИЛЬНЫЙ ЭЛИКСИР ПОЛУЧЕН</p>
            <button onclick="window.location.href='bio_decode.html'" class="return-btn">ПЕРЕЙТИ К СЛЕДУЮЩЕМУ
                ЭТАПУ</button>
        </div>
    </div>

    <script src="alchemy.js"></script>
</body>

</html>